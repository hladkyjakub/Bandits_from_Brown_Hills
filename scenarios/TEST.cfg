# This file was generated using the scenario editor.
#
# If you edit this file by hand, then do not use macros.
# The editor doesn't support macros, and so using them will result in only being able to edit the map.
# Additionally, the contents of all [side] and [time] tags as well as any events that have an id starting with 'editor_event-' are replaced entirely.
# Any manual changes made to those will be lost.
#define SIDE_SETTINGS
	type=Orcish Warrior
	recruit=Orcish Grunt,Orcish Archer,Wolf Rider, Orcish Assassin, Goblin Spearman,Naga Fighter,Troll Whelp
#enddef
#define TEAM_A
#enddef
#define TEAM_B
#enddef
#define LEFT
#enddef
#define RIGHT
#enddef

[scenario]
	description=""
	id="TEST"
	map_file="TEST.map"
#textdomain wesnoth-Bandits_from_Brown_Hills
	name=_"TEST"
	random_start_time=no
	turns=-1
	victory_when_enemies_defeated=yes
	[event]
        name=prestart
        first_time_only=no
        id=real_ranged_attacks_ai
        [modify_ai]
			side=1, 4, 5, 8, 9, 12, 13, 16, 17, 20, 21, 24, 25, 28, 29, 32, 33, 36, 37, 40
            action=delete
            path=stage["main_loop"].candidate_action["combat"]
        [/modify_ai]
        [modify_ai]
			side=1, 4, 5, 8, 9, 12, 13, 16, 17, 20, 21, 24, 25, 28, 29, 32, 33, 36, 37, 40
            action=add
            path=stage["main_loop"].candidate_action[]
            [candidate_action]
                id=real_ranged_attack
                engine=lua
                name=real_ranged_attack
                max_score={AI_CA_COMBAT_SCORE}
                location="~add-ons/Real_Ranged_Attacks/ai/lua/real_ranged_attack.lua"
            [/candidate_action]
        [/modify_ai]
    [/event]
	[event]
		name=last_breath
		first_time_only=no
		[filter]
			canrecruit=yes
		[/filter]
		[lua]
			code=<<
local u = wesnoth.units.get(wesnoth.current.event_context.x1, wesnoth.current.event_context.y1)
local side = u.side
if u.side % 2 == 0 then
	wesnoth.wml_actions.kill({side=u.side..","..u.side - 1})
	std_print("Right won")
	wml.variables["right"] = (wml.variables["right"] or 0 ) + 1
else
	wesnoth.wml_actions.kill({side=u.side..","..u.side + 1})
	std_print("Left won")
	wml.variables["left"] = (wml.variables["left"] or 0 ) + 1
end
local team_a_sides = {
    [1] = true, [4] = true, [5] = true, [8] = true, [9] = true,
    [12] = true, [13] = true, [16] = true, [17] = true, [20] = true,
    [21] = true, [24] = true, [25] = true, [28] = true, [29] = true,
    [32] = true, [33] = true, [36] = true, [37] = true, [40] = true
}
if team_a_sides[side] then
	std_print("Team B won")
	wml.variables["team_b"] = (wml.variables["team_b"] or 0 ) + 1
else
	std_print("Team A won")
	wml.variables["team_a"] = (wml.variables["team_a"] or 0 ) + 1
end
std_print(side .." Was defeated")
			>>
		[/lua]
	[/event]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=1
		team_name=1
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=2
		team_name=2
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=3
		team_name=3
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=4
		team_name=4
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=5
		team_name=5
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=6
		team_name=6
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=7
		team_name=7
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=8
		team_name=8
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=9
		team_name=9
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=10
		team_name=10
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=11
		team_name=11
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=12
		team_name=12
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=13
		team_name=13
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=14
		team_name=14
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=15
		team_name=15
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=16
		team_name=16
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=17
		team_name=17
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=18
		team_name=18
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=19
		team_name=19
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=20
		team_name=20
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=21
		team_name=21
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=22
		team_name=22
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=23
		team_name=23
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=24
		team_name=24
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=25
		team_name=25
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=26
		team_name=26
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=27
		team_name=27
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=28
		team_name=28
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=29
		team_name=29
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=30
		team_name=30
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=31
		team_name=31
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=32
		team_name=32
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=33
		team_name=33
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=34
		team_name=34
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=35
		team_name=35
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=36
		team_name=36
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=37
		team_name=37
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=38
		team_name=38
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=39
		team_name=39
		{SIDE_SETTINGS}
		{TEAM_B}
	[/side]
	[side]
		controller="ai"
		fog=no
		gold=100
		hidden=no
		income=2
		no_leader=no
		share_vision="all"
		shroud=no
		side=40
		team_name=40
		{SIDE_SETTINGS}
		{TEAM_A}
	[/side]
[/scenario]
